<body style="font-family:monospace; color: whitesmoke;background-color: black">
  <h2>&gt;&nbsp;orb-core: processing...</h2>
  <h3 id='res' style="color: chartreuse"></h3>
</body>

<script src="../orb.core.min.js"></script>
<script>

  var url = 'http://localhost:9992'

  fetch(url)
    .then(async function (res) {
      return await res.json();
    }).catch(function(e){
      console.error(e);
    })
    .then(async function (r) {
      console.log(r);
      new Matcher(r.X, r.Y,
        async function (q) {
          var res = await q;
          document.getElementById('res').innerHTML = JSON.stringify(res.matched_points) + "<hr>" + JSON.stringify(res.points);
        },
        {
          browser: true,
          leniency: 30,
          params: {
            lap_thres: 30,
            eigen_thres: 35
          }
        }
      );
    }).catch(function(e){
      console.error(e);
    });

</script>
